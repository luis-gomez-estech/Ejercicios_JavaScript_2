<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Ejercicio 5</title>
</head>
<body>


<!-- Realizar una página con un script que calcule el valor de la letra de un número de DNI (Documento nacional de indentidad).
El algoritmo para calcular la letra del dni es el siguiente :
El número debe ser entre 0 y 99999999
Debemos calcular el resto de la división entera entre el número y el número 23.
Según el resultado, de 0 a 22, le corresponderá una letra de las siguientes: (T, R, W, A, G, M, Y, F, P, D, X, B, N, J, Z, S, Q, V, H, L, C, K, E)
Si lo introducido no es un número deberá indicarse con un alert y volver a preguntar. Deberá de repetirse el proceso hasta que el usuario pulse “cancelar”. -->


  	<!-- La letra del dni se obtiene de dividir el numero entre 23, y el valor que tenga el resto que estara entre 0 y 22 y usando esta tabla determina la letra

0 	1 	2 	3 	4 	5 	6 	7 	8 	9 	10 	11 	12 	13 	14 	15 	16 	17 	18 	19 	20 	21 	22
T 	R 	W 	A 	G 	M 	Y 	F 	P 	D 	X 	B 	N 	J 	Z 	S 	Q 	V 	H 	L 	C 	K 	E -->

	<script type="text/javascript">


  		// Antes de nada uso un do y while, para que el uruario pueda seguir calculando dni o salir, es un do que engloba todo el cogigo

	do{

		// Con este segundo do while valido que el valor introducido sea un numero y que ese numero, esté entre 0 y 99999999, es decir numero positivo con 8 cifras maximo

		do { 

			var dni = prompt("Introduce tu dni");

		    // Si dni no es un numero (isNan), nos avisa y nos deja volver a introducir el valor

		 	if (isNaN(dni)){ 
			     
			   	alert(dni + " es una letra");	
			}

			 // Si dni no tiene 8 cifras, nos avisa y nos deja volver a introducir el valor

			if (dni>99999999||dni<0){ 
			     
			  	alert("Has introducido un dni erroneo. El dni tiene que ser un numero positivo y maximo de 8 letras");	
			}


		} while (isNaN(dni)||dni>99999999||dni<0); // Mientras dni no sea un numero o no sea un numero de 8 cifras, el blucle de pedirnos el dni se repite

			// Una vez el dni introducido es correcto (un numero de 8 cifras), calculamos el resto de la division

		 	var resto=dni%23;

		 	// Creo un array con todas las letras
		 	 
		 	var letra = ["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];

		 	// recorro el array y como una vez recorrio, i=1,2,3,4,5,6,7,8....22, y letra[i]=T 	R 	W 	A 	G 	M 	Y 	F 	P 	D 	X 	B 	N 	J 	Z 	S 	Q 	V 	H 	L 	C 	K 	E
		 	// Entonces con un if le digo que para la posicion i que sea igual que el resto, que a la variable letra2 le ponga el valor de esa posicion 
		 	
	 		for(i=0;i<letra.length;i++){ 

			 	if(resto==i){
			 		var letra2=letra[i] // letra2 almacenará el valor d ela letra correcta segun la posicion y valor de i
			 	}		
	 		
	 		}

	 		alert("Su dni completo es: " + dni + letra2) // Aqui imprimor el resultado dle dni con su letra correcta

	} while (confirm("Si quiere calcular otro dni pulse Aceptar. Si quiere salir, pulse Cancelar")) //mientras no pulsemos cancelar, podremos seguir calculando dni

		
   	</script>   	

</body>
</html>

